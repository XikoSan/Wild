{% load static %}
{% load dict_key %}
{% load get_type %}
{% load tz %}
{% load l10n %}{% load i18n %}
<img src="static/img/regions/{{ region.on_map_id }}.png" alt="{{ region.region_name }}" onclick="window.location.href = '/region/{{ region.pk }}/'" style="
  width: 50rem;
  height: 50rem;
  cursor: pointer;">

<div class="map__info-mid">
<h2>{% trans region.region_name context "regions_list" %}</h2>

<div class="map__info-mid-botttom">
  <!--список ресурсов-->
  <ul class="map__info-list">
    <li class="map__info-item">
<!--      <img src="img/pickaxe.png" alt="">-->
      <span>
        {% trans 'Золото' context "mining" %}
        <br>
        {{ region.gold_has }}
        <br>
        {{ region.gold_cap }}
      </span>
    </li>

    <li class="map__info-item">
<!--      <img src="img/bochka.png" alt="">-->
      <span>
        {% trans 'Нефть' context "mining" %}
        <br>
        {{ region.oil_has }}
        <br>
        {{ region.oil_cap }}
      </span>
    </li>

    <li class="map__info-item">
<!--      <img src="img/crys.png" alt="">-->
      <span>
        {% trans 'Руда' context "mining" %}
        <br>
        {{ region.ore_has }}
        <br>
        {{ region.ore_cap }}
      </span>
    </li>
  </ul>

  <div class="map__info-btn-block">
    {% if player.destination %}
    <span class="map__info-btn-cost">
        <svg viewBox="0 0 503 500" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 30rem; height: 30rem">
            <path d="M379.985 207.039C385.626 193.94 405.19 178.787 415.418 170.042C436.529 152.007 468.07 125.261 483.686 101.049C488.727 93.2317 498.795 73.9047 501.036 64.614C502.116 60.1424 502.876 52.9218 499.969 49.2453C494.942 42.9024 483.232 45.6184 476.885 45.37H467.376C443.784 47.2911 418.393 70.2944 400.188 87.3194L387.413 97.9847L347.404 134.171L322.066 156.876C318.199 160.288 313.331 165.24 308.73 166.597C304.622 167.806 299.568 166.316 295.393 165.637C297.728 162.027 300.515 158.631 301.488 154.028C303.756 143.197 295.768 129.567 288.726 128.242C281.458 126.867 263.534 143.395 258.053 149.357C252.825 155.038 250.851 159.211 243.383 158.267L191.372 147.552L67.3467 119.266L35.3402 111.648C29.2856 110.141 21.3372 107.971 15.3361 110.488C9.54821 112.923 5.49402 118.305 2 124.234L72.6812 155.7L71.3476 162.324L95.3526 173.918L94.0189 180.542C97.0998 179.317 98.6595 178.389 102.021 179.068L132.693 194.453C137.854 197.07 143.055 198.196 144.696 205.383C156.846 203.429 155.925 208.331 165.807 210.965C178.29 214.293 182.704 206.361 195.373 220.289H200.707L195.373 228.569L203.375 233.537L202.041 240.161C211.123 239.417 211.217 242.911 219.378 246.787V250.099L172.702 291.7C168.874 295.194 156.418 306.788 152.698 308.179C147.91 309.95 140.095 305.611 135.36 303.641L104.688 291.501C100.287 289.696 93.2054 286.103 88.6845 287.096C84.1369 288.09 73.4013 297.082 72.988 303.16C72.7744 306.323 74.7216 310.348 75.9219 313.031L87.3509 339.528L36.6738 332.441C22.7776 330.304 13.2957 325.469 3.33358 341.184C10.8551 344.613 14.3892 343.901 20.6704 351.122L42.0082 362.251L92.6853 387.556L86.0173 407.429C90.9783 409.185 94.219 409.499 99.3533 408.308C103.061 407.463 107.808 404.581 111.356 406.154C114.037 407.33 120.851 415.114 123.359 417.83L147.363 443.648C152.471 449.097 157.565 456.963 164.7 452.857C175.209 446.795 172.008 440.138 169.874 428.959L162.113 385.9C161.246 376.758 165.46 375.598 171.368 372.402L200.707 355.676C209.629 350.111 223.245 340.39 231.381 333.367C243.823 322.62 250.091 314.422 264.721 308.062C269.095 306.157 279.91 299.468 283.392 299.832C287.445 300.262 305.222 314.587 311.397 317.999L310.063 324.624H319.399C333.095 316.111 331.975 336.63 333.989 341.184C337.242 348.505 339.763 347.942 342.07 357.746C351.632 360.595 358.621 377.636 365.395 385.9C372.916 395.058 378.558 393.948 384.892 404.133C388.44 409.847 397.668 427.965 402.202 430.4C409.257 434.192 414.178 422.07 424.754 420.678L405.884 334.56C404.656 328.913 398.428 304.088 399.282 300.146C400.282 295.525 406.843 293.075 410.084 290.739C418.046 284.993 438.13 269.128 437.663 256.723C437.556 253.791 436.609 250.993 435.462 248.459C427.581 231.136 419.699 239.815 407.417 240.161C404.856 250.728 396.135 256.525 388.747 261.691C385.759 248.973 375.117 218.334 379.985 207.039Z" fill="var(--c10one)" stroke="var(--c10one)" stroke-width="1.41129"/>
        </svg>
        {{ player.task.clocked.clocked_time|timezone:player.time_zone|date:"H:i" }}
        <img src='static/img/regions/{{ player.destination.on_map_id }}.png' class='image' style="width: 30rem; height: 30rem">
    </span>

    {% else %}

        {% if region == player.region %}
        <span class="map__info-btn-cost">
            {% trans 'Вы здесь' context "map" %}
        </span>

        {% else %}
        {% csrf_token %}
        <input type="hidden" class="region_id" name="region" value="{{ region.pk }}">
        <button class="to_fly" style="cursor: pointer">{% trans 'отправиться' context "map" %}</button>
        <!--время перелёта-->
        <span class="map__info-btn-time">
          <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1186_860)">
            <path d="M4.99997 9.64265C7.56415 9.64265 9.64283 7.56397 9.64283 4.99979C9.64283 2.43561 7.56415 0.356934 4.99997 0.356934C2.43579 0.356934 0.357117 2.43561 0.357117 4.99979C0.357117 7.56397 2.43579 9.64265 4.99997 9.64265Z" stroke="var(--c10one)"/>
            <path d="M5 1.6001V5.0501L7.65 7.7001" stroke="var(--c10one)"/>
            </g>
            <defs>
            <clipPath id="clip0_1186_860">
            <rect width="10" height="10" fill="var(--c10one)"/>
            </clipPath>
            </defs>
           </svg>
            {{ time }}
        </span>
        <!--стоимость перелёта-->
        <span class="map__info-btn-cost">
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.58511 10V0H3.26596V10H2.58511ZM2.85106 8.80851C2.28369 8.80851 1.74113 8.7234 1.2234 8.55319C0.705674 8.37589 0.297872 8.14894 0 7.87234L0.393617 7.04255C0.677305 7.29078 1.03901 7.49645 1.47872 7.65957C1.91844 7.8227 2.37589 7.90426 2.85106 7.90426C3.28369 7.90426 3.63475 7.85461 3.90426 7.75532C4.17376 7.65603 4.37234 7.52128 4.5 7.35106C4.62766 7.17376 4.69149 6.97518 4.69149 6.75532C4.69149 6.5 4.60638 6.29433 4.43617 6.1383C4.27305 5.98227 4.05674 5.85816 3.78723 5.76596C3.52482 5.66667 3.23404 5.58156 2.91489 5.51064C2.59574 5.43972 2.27305 5.35816 1.94681 5.26596C1.62766 5.16667 1.33333 5.04255 1.06383 4.89362C0.801418 4.74468 0.588652 4.5461 0.425532 4.29787C0.262411 4.04255 0.180851 3.71631 0.180851 3.31915C0.180851 2.93617 0.280142 2.58511 0.478723 2.26596C0.684397 1.93972 0.996454 1.68085 1.41489 1.48936C1.84043 1.29078 2.37943 1.19149 3.03191 1.19149C3.46454 1.19149 3.89362 1.24823 4.31915 1.3617C4.74468 1.47518 5.11348 1.6383 5.42553 1.85106L5.07447 2.70213C4.75532 2.48936 4.41844 2.33688 4.06383 2.24468C3.70922 2.14539 3.36525 2.09574 3.03191 2.09574C2.61348 2.09574 2.2695 2.14894 2 2.25532C1.7305 2.3617 1.53191 2.50355 1.40426 2.68085C1.28369 2.85816 1.2234 3.05674 1.2234 3.2766C1.2234 3.53901 1.30496 3.74823 1.46809 3.90426C1.6383 4.06028 1.85461 4.1844 2.11702 4.2766C2.38652 4.36879 2.68085 4.4539 3 4.53191C3.31915 4.60284 3.6383 4.6844 3.95745 4.7766C4.28369 4.86879 4.57801 4.98936 4.84043 5.1383C5.10993 5.28723 5.32624 5.48582 5.48936 5.73404C5.65248 5.98227 5.73404 6.30142 5.73404 6.69149C5.73404 7.06738 5.63121 7.41844 5.42553 7.74468C5.21986 8.06383 4.90071 8.3227 4.46809 8.52128C4.04255 8.71277 3.50355 8.80851 2.85106 8.80851Z" fill="var(--c10one)"/>
          </svg>
          {{ cost }}
        </span>

        {% endif %}

    {% endif %}


  </div>

</div>
</div>

{% if region.state %}
    {% if region.state.image %}
    <img src="{{ region.state.image.url }}" onclick="window.location.href = 'state/{{ region.state.pk }}/'" style="
  width: 50rem;
  height: 50rem;
  cursor: pointer;">
    {% else %}
    <svg onclick="window.location.href = 'state/{{ region.state.pk }}/'" viewBox="0 0 364 385" xmlns="http://www.w3.org/2000/svg" style="width: 50rem;height: 50rem; cursor: pointer;">
    <path d="M174.02 0V40.4902C175.016 40.061 176.227 39.718 177.576 39.4829C178.926 39.2479 180.384 39.1261 181.859 39.125C184.616 39.127 187.264 39.5505 189.246 40.3066V0H174.02ZM181.312 54.752C177.493 54.7557 173.741 55.4401 170.434 56.7365C167.127 58.0329 164.38 59.8958 162.469 62.1387V76.0781C164.607 75.2801 167.455 74.6283 170.769 74.1781C174.083 73.7279 177.767 73.4926 181.506 73.4922C185.295 73.4931 189.026 73.7353 192.372 74.1977C195.719 74.66 198.58 75.3284 200.705 76.1445H200.789C200.831 76.0816 200.872 76.0184 200.912 75.9551V63.1035C199.131 60.6039 196.348 58.495 192.881 57.018C189.415 55.541 185.406 54.7557 181.312 54.752ZM181.131 88.9062C178.106 88.9351 165.059 89.5753 149.881 97.9609C135.073 106.142 126.869 115.908 126.869 115.908C126.869 115.908 115.49 127.634 105.553 148.496C97.944 164.47 95.3105 181.086 95.3105 181.086H268.273C268.273 181.086 266.149 167.265 257.602 148.496C248.957 129.514 236.359 115.908 236.359 115.908C236.359 115.908 222.641 102.288 212.545 96.8027C197.222 88.4773 181.791 88.9102 181.791 88.9102C181.791 88.9102 181.563 88.9021 181.131 88.9062ZM78.6602 196.867L72.3711 210.391H78.6602H284.631H290.92L284.631 196.867H78.6602ZM79.5508 225.59V249.215H94.5879V225.59H79.5508ZM126.789 225.59V249.215H141.826V225.59H126.789ZM174.027 225.59V249.215H189.064V225.59H174.027ZM221.266 225.59V249.215H236.303V225.59H221.266ZM268.703 225.59V249.215H283.74V225.59H268.703ZM40.2422 264.283V278.121H323.029V264.283H40.2422ZM52.3652 293.217V343.803H67.5371V293.217H52.3652ZM92.9375 293.217V343.803H108.109V293.217H92.9375ZM133.311 293.217V343.803H148.48V293.217H133.311ZM173.883 293.217V343.803H189.053V293.217H173.883ZM214.453 293.217V343.803H229.625V293.217H214.453ZM255.025 293.217V343.803H270.197V293.217H255.025ZM295.598 293.217V343.803H310.77V293.217H295.598ZM0 359.031V384.258H363.229V359.031H0Z" fill="var(--c10one)"/>
    </svg>

    {% endif %}
{% else %}
<svg viewBox="0 0 274 289" xmlns="http://www.w3.org/2000/svg" style="width: 50rem;height: 50rem;">
    <path d="M144 65.5177L122.5 113.018C122.5 113.018 135 102.518 156.5 104.018C178 105.518 210.5 120.018 210.5 120.018C210.5 120.018 203.409 94.0177 217.5 63.0177C231.591 32.0177 248.5 17.0177 248.5 17.0177C248.5 17.0177 207 -3.48242 187.5 0.517515C182.358 1.57234 166.5 1.51758 155 21.0176C144 36.5176 133.765 46.5771 118 52.5176C80.5 61.0177 36 34.5177 36 34.5177C36 34.5177 25 76.0176 20.5 89.5176C16 103.018 0 140.018 0 140.018C0 140.018 38 159.018 67.5 158.018C74.9879 157.764 84.6773 151.889 92.5 142.518C113.5 105.518 135 61.0177 135 61.0177L144 65.5177Z" fill="var(--c10one)"/>
    <rect x="261.48" y="5.5625" width="13.2581" height="298.711" rx="6.62905" transform="rotate(21.6549 261.48 5.5625)" fill="var(--c10one)"/>
</svg>

{% endif %}